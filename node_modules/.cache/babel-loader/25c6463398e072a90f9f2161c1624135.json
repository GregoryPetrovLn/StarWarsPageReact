{"ast":null,"code":"var _jsxFileName = \"/Users/gregorypetrov/Documents/WebStorm/31-starwars-react-router/src/components/AboutMe.js\";\nimport React from \"react\";\nimport styles from \"../css_modules/aboutMe.module.css\";\nimport { items, periodMonth } from \"../utils/Constants\";\n\nclass AboutMe extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      hero: null\n    };\n  }\n\n  componentDidMount() {\n    let key = this.props.match.params.id;\n\n    if (!(key in items)) {\n      key = 'luke';\n    }\n\n    let hero = JSON.parse(localStorage.getItem(key));\n\n    if (!hero || Date.now() - hero.time > periodMonth) {\n      fetch(items[key].url).then(response => response.json()).then(data => {\n        let info = {\n          \"name\": data.name,\n          \"height\": data.height,\n          \"mass\": data.mass,\n          \"hair_color\": data.hair_color,\n          \"skin_color\": data.skin_color,\n          \"eye_color\": data.eye_color,\n          \"birth_year\": data.birth_year,\n          \"gender\": data.gender\n        };\n        this.setState({\n          hero: info\n        });\n        hero = {\n          info: info,\n          time: Date.now()\n        };\n        localStorage.setItem(key, JSON.stringify(hero));\n      });\n    } else {\n      this.setState({\n        hero: hero.info\n      });\n    }\n\n    this.props.changeHero(key);\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, this.state.hero && React.createElement(\"div\", {\n      className: `farGalaxy ${styles.hero_box}`,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: styles.hero_titles,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, \"name:\"), \" \", this.state.hero.name), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: styles.hero_titles,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, \"height:\"), \" \", this.state.hero.height), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: styles.hero_titles,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, \"birth year:\"), \" \", this.state.hero.birth_year), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: styles.hero_titles,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, \"gender:\"), \" \", this.state.hero.gender), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: styles.hero_titles,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, \"mass:\"), \" \", this.state.hero.mass), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: styles.hero_titles,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, \"hair color:\"), \" \", this.state.hero.hair_color), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: styles.hero_titles,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, \"skin color:\"), \" \", this.state.hero.skin_color), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: styles.hero_titles,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, \"eye color:\"), \" \", this.state.hero.eye_color)));\n  }\n\n}\n\nexport default AboutMe;","map":{"version":3,"sources":["/Users/gregorypetrov/Documents/WebStorm/31-starwars-react-router/src/components/AboutMe.js"],"names":["React","styles","items","periodMonth","AboutMe","Component","constructor","props","state","hero","componentDidMount","key","match","params","id","JSON","parse","localStorage","getItem","Date","now","time","fetch","url","then","response","json","data","info","name","height","mass","hair_color","skin_color","eye_color","birth_year","gender","setState","setItem","stringify","changeHero","render","hero_box","hero_titles"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport styles from \"../css_modules/aboutMe.module.css\";\nimport {items, periodMonth} from \"../utils/Constants\";\n\nclass AboutMe extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            hero: null\n        }\n    }\n\n    componentDidMount() {\n        let key = this.props.match.params.id;\n        if (!(key in items)) {\n            key = 'luke';\n        }\n        let hero = JSON.parse(localStorage.getItem(key));\n        if (!hero || (Date.now() - hero.time) > periodMonth) {\n            fetch(items[key].url)\n                .then(response => response.json())\n                .then(data => {\n                    let info = {\n                        \"name\": data.name,\n                        \"height\": data.height,\n                        \"mass\": data.mass,\n                        \"hair_color\": data.hair_color,\n                        \"skin_color\": data.skin_color,\n                        \"eye_color\": data.eye_color,\n                        \"birth_year\": data.birth_year,\n                        \"gender\": data.gender\n                    };\n                    this.setState({hero: info});\n                    hero = {\n                        info: info,\n                        time: Date.now()\n                    };\n                    localStorage.setItem(key, JSON.stringify(hero))\n                });\n        } else {\n            this.setState({hero: hero.info});\n        }\n        this.props.changeHero(key);\n    }\n\n    render() {\n        return (\n            <div>\n                {(this.state.hero) &&\n                <div className={`farGalaxy ${styles.hero_box}`}>\n                    <p><span className={styles.hero_titles}>name:</span> {this.state.hero.name}</p>\n                    <p><span className={styles.hero_titles}>height:</span> {this.state.hero.height}</p>\n                    <p><span className={styles.hero_titles}>birth year:</span> {this.state.hero.birth_year}</p>\n                    <p><span className={styles.hero_titles}>gender:</span> {this.state.hero.gender}</p>\n                    <p><span className={styles.hero_titles}>mass:</span> {this.state.hero.mass}</p>\n                    <p><span className={styles.hero_titles}>hair color:</span> {this.state.hero.hair_color}</p>\n                    <p><span className={styles.hero_titles}>skin color:</span> {this.state.hero.skin_color}</p>\n                    <p><span className={styles.hero_titles}>eye color:</span> {this.state.hero.eye_color}</p>\n                </div>\n                }\n            </div>\n        )\n\n    }\n}\n\nexport default AboutMe;"]},"metadata":{},"sourceType":"module"}