{"ast":null,"code":"var _jsxFileName = \"/Users/gregorypetrov/Documents/WebStorm/31-starwars-react-router/src/components/Contact.js\";\nimport React from \"react\";\nimport style from '../css_modules/contacts.module.css';\nimport { base_url, periodWeek } from \"../utils/Constants\";\n\nclass Contact extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      planets: ['wait...']\n    };\n  }\n\n  fillPlanets(url) {\n    fetch(url).then(response => response.json()).then(json => json.map(item => item.name)).then(planets => {\n      this.setState({\n        planets\n      });\n      let info = {\n        listPlanets: planets,\n        time: Date.now()\n      };\n      localStorage.setItem('planets', JSON.stringify(info));\n    });\n  }\n\n  componentDidMount() {\n    let planets = JSON.parse(localStorage.getItem('planets'));\n\n    if (!planets || Date.now() - planets.time > periodWeek) {\n      this.fillPlanets(`${base_url}/v1/planets`);\n    } else {\n      this.setState({\n        planets: planets.listPlanets\n      });\n    }\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: e => {\n        e.preventDefault();\n        console.log(\"Contact form\");\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"fname\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, \"First Name\"), React.createElement(\"input\", {\n      type: \"text\",\n      id: \"fname\",\n      name: \"firstname\",\n      placeholder: \"Your name..\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"planet\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, \"Planet\"), React.createElement(\"select\", {\n      id: \"planet\",\n      name: \"planet\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, this.state.planets.map((item, index) => React.createElement(\"option\", {\n      value: item,\n      key: index,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, item))), React.createElement(\"label\", {\n      htmlFor: \"subject\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, \"Subject\"), React.createElement(\"textarea\", {\n      id: \"subject\",\n      name: \"subject\",\n      placeholder: \"Write something..\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default Contact;","map":{"version":3,"sources":["/Users/gregorypetrov/Documents/WebStorm/31-starwars-react-router/src/components/Contact.js"],"names":["React","style","base_url","periodWeek","Contact","Component","constructor","props","state","planets","fillPlanets","url","fetch","then","response","json","map","item","name","setState","info","listPlanets","time","Date","now","localStorage","setItem","JSON","stringify","componentDidMount","parse","getItem","render","e","preventDefault","console","log","index"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,oCAAlB;AACA,SAAQC,QAAR,EAAkBC,UAAlB,QAAmC,oBAAnC;;AAEA,MAAMC,OAAN,SAAsBJ,KAAK,CAACK,SAA5B,CAAqC;AACjCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,OAAO,EAAG,CAAC,SAAD;AADD,KAAb;AAGH;;AAEDC,EAAAA,WAAW,CAACC,GAAD,EAAM;AACbC,IAAAA,KAAK,CAACD,GAAD,CAAL,CACKE,IADL,CACUC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EADtB,EAEKF,IAFL,CAEUE,IAAI,IAAIA,IAAI,CAACC,GAAL,CAASC,IAAI,IAAIA,IAAI,CAACC,IAAtB,CAFlB,EAGKL,IAHL,CAGUJ,OAAO,IAAI;AACb,WAAKU,QAAL,CAAc;AAACV,QAAAA;AAAD,OAAd;AACA,UAAIW,IAAI,GAAG;AACPC,QAAAA,WAAW,EAAEZ,OADN;AAEPa,QAAAA,IAAI,EAAEC,IAAI,CAACC,GAAL;AAFC,OAAX;AAIAC,MAAAA,YAAY,CAACC,OAAb,CAAqB,SAArB,EAAgCC,IAAI,CAACC,SAAL,CAAeR,IAAf,CAAhC;AACH,KAVL;AAWH;;AAEDS,EAAAA,iBAAiB,GAAG;AAChB,QAAIpB,OAAO,GAAGkB,IAAI,CAACG,KAAL,CAAWL,YAAY,CAACM,OAAb,CAAqB,SAArB,CAAX,CAAd;;AACA,QAAI,CAACtB,OAAD,IAAac,IAAI,CAACC,GAAL,KAAaf,OAAO,CAACa,IAAtB,GAA8BnB,UAA9C,EAA0D;AACtD,WAAKO,WAAL,CAAkB,GAAER,QAAS,aAA7B;AACH,KAFD,MAEO;AACH,WAAKiB,QAAL,CAAc;AAACV,QAAAA,OAAO,EAAGA,OAAO,CAACY;AAAnB,OAAd;AACH;AACJ;;AAGDW,EAAAA,MAAM,GAAG;AACL,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAM,MAAA,QAAQ,EAAGC,CAAD,IAAO;AACnBA,QAAAA,CAAC,CAACC,cAAF;AACAC,QAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ;AACH,OAHD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAII;AAAO,MAAA,OAAO,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAJJ,EAKI;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,EAAE,EAAC,OAAtB;AAA8B,MAAA,IAAI,EAAC,WAAnC;AAA+C,MAAA,WAAW,EAAC,aAA3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALJ,EAMI;AAAO,MAAA,OAAO,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBANJ,EAOI;AAAQ,MAAA,EAAE,EAAC,QAAX;AAAoB,MAAA,IAAI,EAAC,QAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,KAAK5B,KAAL,CAAWC,OAAX,CAAmBO,GAAnB,CAAuB,CAACC,IAAD,EAAOoB,KAAP,KAAiB;AAAQ,MAAA,KAAK,EAAEpB,IAAf;AAAqB,MAAA,GAAG,EAAEoB,KAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAkCpB,IAAlC,CAAxC,CADJ,CAPJ,EAWI;AAAO,MAAA,OAAO,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAXJ,EAYI;AAAU,MAAA,EAAE,EAAC,SAAb;AAAuB,MAAA,IAAI,EAAC,SAA5B;AAAsC,MAAA,WAAW,EAAC,mBAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAZJ,EAcI;AAAO,MAAA,IAAI,EAAC,QAAZ;AAAqB,MAAA,KAAK,EAAC,QAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAdJ,CADJ,CADJ;AAoBH;;AArDgC;;AAwDrC,eAAeb,OAAf","sourcesContent":["import React from \"react\";\nimport style from '../css_modules/contacts.module.css';\nimport {base_url, periodWeek} from \"../utils/Constants\";\n\nclass Contact extends React.Component{\n    constructor(props) {\n        super(props);\n        this.state = {\n            planets : ['wait...']\n        };\n    }\n\n    fillPlanets(url) {\n        fetch(url)\n            .then(response => response.json())\n            .then(json => json.map(item => item.name))\n            .then(planets => {\n                this.setState({planets});\n                let info = {\n                    listPlanets: planets,\n                    time: Date.now()\n                };\n                localStorage.setItem('planets', JSON.stringify(info));\n            });\n    }\n\n    componentDidMount() {\n        let planets = JSON.parse(localStorage.getItem('planets'));\n        if (!planets || (Date.now() - planets.time) > periodWeek) {\n            this.fillPlanets(`${base_url}/v1/planets`);\n        } else {\n            this.setState({planets : planets.listPlanets});\n        }\n    }\n\n\n    render() {\n        return (\n            <div>\n                <form onSubmit={(e) => {\n                    e.preventDefault();\n                    console.log(\"Contact form\");\n                }}>\n                    <label htmlFor=\"fname\">First Name</label>\n                    <input type=\"text\" id=\"fname\" name=\"firstname\" placeholder=\"Your name..\"/>\n                    <label htmlFor=\"planet\">Planet</label>\n                    <select id=\"planet\" name=\"planet\">{\n                        this.state.planets.map((item, index) => <option value={item} key={index}>{item}</option>)\n                    }\n                    </select>\n                    <label htmlFor=\"subject\">Subject</label>\n                    <textarea id=\"subject\" name=\"subject\" placeholder=\"Write something..\"/>\n\n                    <input type=\"submit\" value=\"Submit\"/>\n                </form>\n            </div>\n        )\n    }\n}\n\nexport default Contact;"]},"metadata":{},"sourceType":"module"}